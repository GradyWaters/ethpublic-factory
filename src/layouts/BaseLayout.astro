---
import { getSiteConfig } from "../engine/config.js";
const site = getSiteConfig();
const { 
  title = site.siteName,
  description = "EthPublic — Clear guides, safer onchain moves. Daily Ethereum news and education for everyone."
} = Astro.props;
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:site_name" content="EthPublic" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=IBM+Plex+Sans:wght@400;500;600&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <style is:global>
      :root {
        --black: #0a0a0f;
        --white: #f5f5f0;
        --accent: #627eea;
        --accent2: #e8c468;
        --gray: #8888a0;
        --border: #1e1e2e;
        --card: #12121a;
      }
      * { margin:0; padding:0; box-sizing:border-box; }
      body { background:var(--black); color:var(--white); font-family:'IBM Plex Sans',sans-serif; font-size:16px; line-height:1.6; }
      a { color:inherit; text-decoration:none; }
      .topbar { border-bottom:1px solid var(--border); padding:8px 0; font-family:'IBM Plex Mono',monospace; font-size:11px; color:var(--gray); }
      .topbar-inner { max-width:1200px; margin:0 auto; padding:0 24px; display:flex; justify-content:space-between; align-items:center; }
      .topbar-right { display:flex; gap:20px; }
      .topbar-right a:hover { color:var(--accent); }
      header { border-bottom:1px solid var(--border); padding:20px 0; }
      .header-inner { max-width:1200px; margin:0 auto; padding:0 24px; display:flex; align-items:center; justify-content:space-between; }
      .logo { display:flex; align-items:center; gap:12px; }
      .logo-text { font-family:'Playfair Display',serif; font-size:28px; font-weight:900; letter-spacing:-0.5px; }
      .logo-text span { color:var(--accent); }
      nav { display:flex; gap:28px; align-items:center; }
      nav a { font-size:13px; font-weight:500; color:var(--gray); letter-spacing:0.5px; text-transform:uppercase; transition:color 0.2s; }
      nav a:hover { color:var(--white); }
      .nav-cta { background:var(--accent); color:var(--white) !important; padding:8px 18px; border-radius:4px; font-weight:600 !important; }
      .nav-cta:hover { background:#7b93f5; }
      main { max-width:1200px; margin:0 auto; padding:40px 24px; }
      footer { border-top:1px solid var(--border); padding:32px 0; margin-top:40px; }
      .footer-inner { max-width:1200px; margin:0 auto; padding:0 24px; display:flex; justify-content:space-between; align-items:center; }
      .footer-logo { font-family:'Playfair Display',serif; font-size:20px; font-weight:900; }
      .footer-logo span { color:var(--accent); }
      .footer-copy { font-size:13px; color:var(--gray); font-family:'IBM Plex Mono',monospace; }
      .footer-links { display:flex; gap:20px; }
      .footer-links a { font-size:13px; color:var(--gray); transition:color 0.2s; }
      .footer-links a:hover { color:var(--white); }
    </style>
  </head>
  <body>
    <div class="topbar">
      <div class="topbar-inner">
        <span>EthPublic — Clear guides, safer onchain moves.</span>
        <div class="topbar-right">
          <a href="/services">Wallet Setup →</a>
        </div>
      </div>
    </div>
    <header>
      <div class="header-inner">
        <a href="/" class="logo">
          <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
            <polygon points="18,2 34,18 18,34 2,18" fill="none" stroke="#627eea" stroke-width="1.5"/>
            <polygon points="18,8 28,18 18,28 8,18" fill="#627eea" opacity="0.3"/>
            <polygon points="18,13 23,18 18,23 13,18" fill="#627eea"/>
          </svg>
          <div class="logo-text">Eth<span>Public</span></div>
        </a>
        <nav>
          <a href="/">News</a>
          <a href="/services">Guides</a>
          <a href="/category/security">Security</a>
          <a href="/category/ens">ENS</a>
          <a href="/services" class="nav-cta">Setup My Wallet</a>
        </nav>
      </div>
    </header>
    <main>
      <slot />
    </main>
    <footer>
      <div class="footer-inner">
        <div class="footer-logo">Eth<span>Public</span></div>
        <div class="footer-copy">© {new Date().getFullYear()} EthPublic</div>
        <div class="footer-links">
          <a href="/services">Contact</a>
        </div>
      </div>
    </footer>
    <script>
      if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
          if (!user) {
            window.netlifyIdentity.on("login", () => {
              document.location.href = "/admin/";
            });
          }
        });
      }
    </script>
  </body>
</html>
